上面是我的代码
帮我检查代码一下, 对于文件hash的计算, 不管是部分计算还是全部计算, 要保证只计算一次.
也就是说，如果redis里面已经有相关的hash值, 就从redis里面读取，而不是再重新计算.
这样可以减少时间消耗，提高性能, 检查完之后做必要的修改, 并且添加相应的单元测试.

findCloseFiles, 帮我检查一下他的功能, 他应该是去分析fav.log文件, 从里面提取出文件名, 而不是绝对路径, 
然后从文件名里面查找相似的, 帮我设计一个最合适的算法, 把结果输出到fav.log.close文件.
这个查找分析的过程，我希望有多线程, 以提高效率.
帮我检查现有逻辑是不是这样子, 如果不是修改, 并且添加相应的单元测试.
帮我逐个生成需要修改的文件.
